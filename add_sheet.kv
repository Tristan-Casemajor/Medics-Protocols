#:import specialty_selector specialty_selector


<AddSheetLayout>:
    orientation: "vertical"
    padding: app.spacing_padding
    spacing: app.spacing_padding
    text_input_sheet: text_input_sheet
    confirm_label: confirm
    canvas.before:
        Color:
            rgba: app.menu_background
        Rectangle:
            pos: self.pos
            size: self.size
        Color:
            rgba: 0.139, 0.207, 0.218, 1
        Rectangle:
            pos: 0, self.height/1.215
            size: self.width, dp(5)
    Label:
        size_hint: 1, None
        height: root.height/23
        text: "Choissisez v√¥tre fiche : "

    Button:
        text: "Parcourir"
        size_hint: None, None
        size: root.width/5.5, root.height/13
        pos_hint: {"center_x": 0.5}
        on_press: app.main_screen_manager.push_screen("SelectFile")

    Label:
        size_hint: 1, None
        height: root.height/23
        text: "Entrer la fiche manuellement : "

    TextInput:
        id: text_input_sheet
        size_hint: 0.7, 0.55
        pos_hint: {"center_x": 0.5}
        cursor_color: 0, 0, 0, 1

    SpecialitySelector:
        id: speciality_selector
        size_hint: None, 0.3
        width: dp(160)
        pos_hint: {"center_x":0.5}

    BoxLayout:
        size_hint: None, None
        pos_hint: {"center_x": 0.5}
        size: dp(300), dp(27)
        Label:
            text: "Nom de la fiche : "
        TextInput:
            size_hint: 1.8, 1
            id: sheet_name
            cursor_color: 0, 0, 0, 1
            multiline: False
    Button:
        background_normal: ''
        background_color: 0.22, 0.839, 0.15, 1
        text: "Ajouter"
        size_hint: None, None
        size: root.width/6, root.height/12
        pos_hint: {"center_x": 0.5}
        on_press: root.save_sheet(sheet_name.text, text_input_sheet.text, speciality_selector.layout_stack.choice)

    Label:
        id: confirm
        text: root.confirm_text
        size_hint: 1, None
        height: 0

